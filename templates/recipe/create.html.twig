{% extends "base.html.twig" %}

{% block body %}
<div class="main-add-recipe-container">
	{# MAIN TITLE #}
	<div class="main-main-title">
		<h1 class="main-title-recipe">Ajouter une recette</h1>
	</div>

	{{ form_start(form, {'attr': {'id': 'msform'}}) }}
	<!-- progressbar -->
	<ul id="progressbar">
		<li class="active" id="account"></li>
		<li id="description"></li>
		<li id="step"></li>
		<li id="ingredients"></li>
		<li id="shopping-card"></li>
		<li id="filter"></li>
		<li id="guests"></li>
		<li id="clock"></li>
		<li id="picture"></li>
		<li id="tags"></li>
		<li id="confirm"></li>
	</ul>
	<div class="progress">
		<div class="background-progress-bar">

		</div>
		<div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuemin="0"
			aria-valuemax="100">
		</div>
	</div>

	<br>

	<!-- fieldsets -->

	{# Title #}
	<fieldset>
		<input type="button" name="next" class="next action-button" value=">>">
		<div class="form-card">
			<div class="row-step">
				<div class="col-5">
					<h2 class="steps-title">1 - 10</h2>
				</div>
				<div class="next-prev-control">

				</div>
			</div> <label class="fieldlabels">{{ form_row(form.name) }}</label>
		</div>

	</fieldset>

	{# Description #}
	<fieldset>
		<input type="button" name="next" class="next action-button" value=">>" /> <input type="button" name="previous"
			class="previous action-button-previous" value="<<" />
		<div class="form-card">
			<div class="row-step">
				<div class="col-5">
					<h2 class="steps-title">2 - 10</h2>
				</div>
			</div>
			{{ form_row(form.description) }}
		</div>

	</fieldset>

	{# Steps #}
	<fieldset>
		<input type="button" name="next" class="next action-button" value=">>" /> <input type="button" name="previous"
			class="previous action-button-previous" value="<<" />
		<div class="form-card">
			<div class="row-step">
				<div class="col-5">
					<h2 class="steps-title">3 - 10</h2>
				</div>
			</div>
			<div class="row-steps">
				<div class="steps-container">
					<ul class="steps"
						data-prototype="{{ form_widget(form.recipeSteps.vars.prototype)|e('html_attr') }}">
						{# iterate over each existing step and render its only field: name #}
						{% for key, step in form.recipeSteps %}
						<li class="li-step">
							{{ form_row(step.text) }}
						</li>
						{% endfor %}
					</ul>
				</div>
			</div>
		</div>
	</fieldset>

	{# Ingredients #}
	<fieldset>
		<input type="button" name="next" class="next action-button" value=">>" /> <input type="button" name="previous"
			class="previous action-button-previous" value="<<" />
		<div class="form-card">
			<div class="row-step">
				<div class="col-5">
					<h2 class="steps-title">4 - 10</h2>
				</div>
			</div>
			<div class="row-ingredients">
				<div class="steps-container">
					<ul class="ingredients"
						data-prototype="{{ form_widget(form.recipeIngredients.vars.prototype)|e('html_attr') }}">

						{# iterate over each existing step and render its only field: name #}
						{% for ingredient in form.recipeIngredients %}
						<li class="li-ingredient">
							{{ form_row(ingredient.name) }}

							{{ form_row(ingredient.amount, {'type':'number', 'lang': app.request.locale}) }}

							{{ form_row(ingredient.unit) }}
						</li>
						{% endfor %}
					</ul>
				</div>
			</div>
		</div>
	</fieldset>

	{# Menu #}
	<fieldset>
		<input type="button" name="next" class="next action-button" value=">>" /> <input type="button" name="previous"
			class="previous action-button-previous" value="<<" />
		<div class="form-card">
			<div class="row-step">
				<div class="col-5">
					<h2 class="steps-title">5 - 10</h2>
				</div>
			</div>
	
				<div class="recipe-add-container">
					<div class="recipe-menu">
						<span>
							Choisissez parmi la liste ci-dessous un type de plat
						</span>
						{{ form_row(form.recipeMenu) }}
					</div>
				</div>
	
		</div>
	</fieldset>

	{# Category #}
	<fieldset>
		<input type="button" name="next" class="next action-button" value=">>" /> <input type="button" name="previous"
			class="previous action-button-previous" value="<<" />
		<div class="form-card">
			<div class="row-step">
				<div class="col-5">
					<h2 class="steps-title">6 - 10</h2>
				</div>
			</div>

				<div class="recipe-add-container">
					<div class="recipe-category">
						<span>
							Choisissez parmi la liste ci-dessous une catégorie
						</span>
						{{ form_row(form.recipeCategory) }}
					</div>
					<div class="recipe-category-selected"></div>
				</div>
		
		</div>
	</fieldset>

	{# How Many Guests #}
	<fieldset>
		<input type="button" name="next" class="next action-button" value=">>" /> <input type="button" name="previous"
			class="previous action-button-previous" value="<<" />
		<div class="form-card">
			<div class="row-step">
				<div class="col-5">
					<h2 class="steps-title">7 - 10</h2>
				</div>
			</div>
			<div class="row-step">
				<div class="recipe-add-container">
					<div class="recipe-guests">
						<div class="recipe-guest-range">
							{{ form_row(form.person) }}
						</div>
					</div>
				</div>
			</div>
		</div>
	</fieldset>

	{# Times #}
	<fieldset>
		<input type="button" name="next" class="next action-button" value=">>" /> <input type="button" name="previous"
			class="previous action-button-previous" value="<<" />
		<div class="form-card">
			<div class="row-step">
				<div class="col-5">
					<h2 class="steps-title">8 - 10</h2>
				</div>
			</div>
			<div class="row-step">
				<div class="time-form-container">
					<div class="left">
						<div class="time-cook-container">
							<label for="">Temps de préparation</label>
							{{ form_widget(form.timePrepa) }}
						</div>
					</div>
					<div class="right">
						<div class="time-prepa-container">
							<label for="">Temps de cuisson</label>
							{{ form_widget(form.timeCook) }}
						</div>
					</div>
				</div>
			</div>
		</div>
	</fieldset>

	{# Images #}
	<fieldset>
		<input type="button" name="next" class="next action-button" value=">>" /> <input type="button" name="previous"
			class="previous action-button-previous" value="<<" />
		<div class="form-card">
			<div class="row">
				<div class="col-5">
					<h2 class="steps-title">9 - 10</h2>
				</div>
			</div>
			<div class="row-step">
				<div class="recipe-create-images">
					{{ form_row(form.recipePhoto) }}
				</div>
			</div>
		</div>
	</fieldset>

	{# Tags #}
	<fieldset>
		<input type="button" name="next" class="next action-button" value=">>" /> <input type="button" name="previous"
			class="previous action-button-previous" value="<<" />
		<div class="form-card">
			<div class="row">
				<div class="col-5">
					<h2 class="steps-title">Étape 10 - 10</h2>
				</div>
			</div>
			<div class="row-step">
				<div class="recipe-tags">
					{{ form_row(form.tags) }}
				</div>
			</div>
		</div>
	</fieldset>

	<fieldset>
		<input type="button" name="previous" class="previous action-button-previous" value="<<" />
		<div class="form-card">
			<div class="row-step">
				<div class="col-7">
					<h2 class="fs-title">Valider le formulaire ?</h2>
				</div>
				<div class="col-5">
					<h2 class="steps-title">Fin</h2>
				</div>
			</div>
			<div class="row-step">
				{{ form_widget(form.save) }}
			</div>
		</div> <br><br>

	</fieldset>
	{{ form_end(form) }}
</div>
</div>
{% endblock %}